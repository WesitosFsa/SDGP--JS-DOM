<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Selección de Proyecto</title>
    <link rel="stylesheet" type="text/css" href="assets/css/visualizar.css">
</head>
<body>
    <div class="container">
        <h1>Selección de Proyecto</h1>
        <div class="search-container">
            <input type="text" id="buscarProyecto" name="buscarProyecto" placeholder="Buscar Proyecto">
        </div>
        <h2>Lista de proyectos</h2>
        <ul id="listaProyectos">
            <!-- Lista de proyectos se actualizará dinámicamente aquí -->
        </ul>
        <a href="Proyectos.html"><button>Volver a la página de Proyectos</button></a>
    </div>

    <script>
        // Esta función se llama al cargar la página y cuando se actualiza la lista de proyectos
        function actualizarListaProyectos() {
            // Obtener la lista de proyectos desde localStorage
            var proyectosGuardados = localStorage.getItem("proyectos");
            if (proyectosGuardados) {
                var listaProyectos = JSON.parse(proyectosGuardados);
                cargarProyectosEnVisualizar(listaProyectos);
            }
        }

        // Función para cargar la lista de proyectos en la pantalla de VisualizarProyectos
        function cargarProyectosEnVisualizar(listaProyectos) {
            var listaProyectosElement = document.getElementById("listaProyectos");
            listaProyectosElement.innerHTML = "";

            listaProyectos.forEach(function (proyecto) {
                var li = document.createElement("li");
                li.textContent = proyecto.nombre;
                li.addEventListener("click", function() {
                    console.log("Proyecto seleccionado: " + proyecto.nombre);
                });
                listaProyectosElement.appendChild(li);
            });
        }

        // Llama a la función al cargar la página
        window.onload = actualizarListaProyectos;
    </script>
</body>
</html>

